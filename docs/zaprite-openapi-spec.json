{"openapi":"3.0.3","info":{"title":"Zaprite API","description":"The Zaprite API lets you get and create Orders programmatically to easily integrate the Zaprite Checkout experience into your own website. You can also configure Webhooks to get notified about events on your Zaprite Organization.<br/><br/>ðŸ’¡ To test your integration, you can create <a href=\"https://help.zaprite.com/en/articles/9875022-how-to-test-payments-for-an-api-integration\">Zaprite sandbox Organizations</a> that let you complete Orders with no real payment.<br/><br/> If you have questions or need help integrating with the Zaprite API, please [contact us](https://help.zaprite.com/).","version":"1.0"},"servers":[{"url":"https://api.zaprite.com"}],"paths":{"/v1/order":{"post":{"operationId":"order-create","summary":"Create Order","description":"Create a Zaprite Order. You can then send your customer to `checkoutUrl` to pay that Order. Note that Orders are not visible on your Zaprite dashboard until they have received a payment.<br/>ðŸ’¡ To test your integration, you can create <a href=\"https://help.zaprite.com/en/articles/9875022-how-to-test-payments-for-an-api-integration\">Zaprite sandbox Organizations</a> that let you complete Orders with no real payment.<br/><br/>You can also create an invoice along with the order by providing the `invoice` field with line items. In this case, the order amount will be calculated from the invoice line items.","tags":["Orders"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Amount denominated in currency smallest unit (e.g., cents for USD, satoshis for BTC). Example: `100` for $1.00 USD. Optional only if invoice is provided, in which case the amount will be calculated from invoice line items and amount will be ignored if provided."},"currency":{"type":"string","enum":["USD","USDT","BTC","LBTC","ALL","DZD","ARS","AMD","AUD","AZN","BHD","BDT","BYN","BMD","BOB","BAM","BRL","BGN","KHR","CAD","CLP","CNY","COP","CRC","HRK","CUP","CZK","DKK","DOP","EGP","EUR","GEL","GHS","GTQ","HNL","HKD","HUF","ISK","INR","IDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KWD","KGS","LBP","MKD","MYR","MUR","MXN","MDL","MNT","MAD","MMK","NAD","NPR","TWD","NZD","NIO","NGN","NOK","OMR","PKR","PAB","PEN","PHP","PLN","GBP","QAR","RON","RUB","SAR","RSD","SGD","ZAR","KRW","SSP","VES","LKR","SEK","CHF","THB","TTD","TND","TRY","UGX","UAH","AED","UYU","UZS","VND"]},"externalUniqId":{"type":"string","description":"Optionally, you can store your own unique ID for this order. This can be useful for reconciling payments with your own systems."},"redirectUrl":{"type":"string","format":"uri","description":"Redirect your customer to this URL after they have paid for the order."},"redirectIfPending":{"type":"boolean","description":"If true, the customer will be redirected to `redirectUrl` even if the order is still pending (ie. Bitcoin transaction is unconfirmed)."},"expiresAt":{"type":"string","format":"date-time","description":"ISO 8601 datetime when this order expires. After this time, the order cannot be paid unless a payment is already in progress."},"label":{"type":"string","description":"Will be shown on the checkout page and in Bitcoin on-chain transaction labels."},"customCheckoutId":{"type":"string","description":"If you want a custom checkout for specific orders, you can configure a new checkout at https://app.zaprite.com/org/default/checkouts/new"},"contactId":{"type":"string","description":"Optionally, you can associate the Order with one of your Zaprite contacts."},"sendReceiptToCustomer":{"type":"boolean","default":true,"description":"Whether to send a receipt email to the customer after successful payment. Defaults to true."},"disablePaymentNotifs":{"type":"boolean","description":"Whether to disable payment notifications to organization admins after successful payment. Defaults to false."},"customerData":{"type":"object","properties":{"email":{"type":"string","description":"If set, a payment receipt will be sent to this email upon payment."},"name":{"type":"string"}},"additionalProperties":false},"metadata":{"type":"object","additionalProperties":{"type":"string","maxLength":1000},"description":"Custom metadata for this order. Limited to 50 key-value pairs. Keys must be strings with a maximum length of 255 characters. Values must be strings with a maximum length of 1000 characters."},"tags":{"type":"array","items":{"type":"string","maxLength":32},"description":"Add arbitrary tags to easily group and filter Orders in your reports. You can add up to 10 tags, each with a maximum length of 32 characters."},"invoice":{"type":"object","properties":{"title":{"type":"string","maxLength":255,"description":"Optional title for the invoice"},"number":{"type":"string","maxLength":255,"description":"Optional invoice number. If not provided, one will be generated"},"date":{"type":"string","pattern":"^[0-9]{4}-[0-9]{2}-[0-9]{2}$","description":"Invoice date in YYYY-MM-DD format. Defaults to current date"},"daysToPay":{"type":"integer","minimum":0,"description":"Number of days until payment is due. If not provided, the invoice will show \"DUE ON RECEIPT\""},"purchaseOrderNumber":{"type":"string","maxLength":255,"description":"Optional purchase order number"},"footerNote":{"type":"string","maxLength":1000,"description":"Optional note to display at the bottom of the invoice"},"lineItems":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","minLength":1,"maxLength":255,"description":"Name of the line item"},"description":{"type":"string","maxLength":1000,"description":"Optional description of the line item"},"quantity":{"type":"number","exclusiveMinimum":true,"minimum":0,"default":1,"description":"Quantity as a decimal number (e.g., 1.5 for one and a half units). Maximum of 2 decimal places allowed. Defaults to 1 if not provided."},"unitPrice":{"type":"integer","minimum":0,"description":"Price per unit in currency smallest unit (e.g., cents for USD, satoshis for BTC)"},"taxRateBips":{"type":"integer","minimum":0,"maximum":10000,"default":0,"description":"Tax rate in bips (e.g., 1000 = 10%)"},"discountRateBips":{"type":"integer","minimum":0,"maximum":10000,"default":0,"description":"Discount rate in bips (e.g., 1000 = 10%)"},"discountAmount":{"type":"integer","minimum":0,"default":0,"description":"Fixed discount amount in currency smallest unit (e.g., cents for USD, satoshis for BTC)"}},"required":["name","unitPrice"],"additionalProperties":false},"minItems":1,"maxItems":256,"description":"Line items for the invoice"}},"required":["lineItems"],"additionalProperties":false,"description":"Optional invoice data. If provided, an invoice will be created for this order, and the order amount will be calculated from invoice line items. You must provide a `contactId` when creating an invoice."},"allowSavePaymentProfile":{"type":"boolean","description":"If true and the selected payment method supports autopay, then the customer will be able to save their payment profile for future payments."}},"required":["currency"],"additionalProperties":false},"example":{"amount":100,"currency":"USD","externalUniqId":"abc123","redirectUrl":"https://example.com","expiresAt":"2024-03-25T11:04:09.656Z","label":"Label for the order","metadata":{"custom_id":"12345","customer_reference":"ABC123"}}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"orgId":{"type":"string","description":"Id of the Zaprite organization that created this order"},"orderType":{"type":"string","enum":["invoice","paymentLink","pos","event","wooCommerce","other"]},"totalAmount":{"type":"integer","description":"Total amount to be paid by the customer in currency smallest unit (e.g. cents or sats)"},"currency":{"type":"string","enum":["USD","USDT","BTC","LBTC","ALL","DZD","ARS","AMD","AUD","AZN","BHD","BDT","BYN","BMD","BOB","BAM","BRL","BGN","KHR","CAD","CLP","CNY","COP","CRC","HRK","CUP","CZK","DKK","DOP","EGP","EUR","GEL","GHS","GTQ","HNL","HKD","HUF","ISK","INR","IDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KWD","KGS","LBP","MKD","MYR","MUR","MXN","MDL","MNT","MAD","MMK","NAD","NPR","TWD","NZD","NIO","NGN","NOK","OMR","PKR","PAB","PEN","PHP","PLN","GBP","QAR","RON","RUB","SAR","RSD","SGD","ZAR","KRW","SSP","VES","LKR","SEK","CHF","THB","TTD","TND","TRY","UGX","UAH","AED","UYU","UZS","VND"]},"externalUniqId":{"type":"string","nullable":true},"status":{"type":"string","enum":["PENDING","PROCESSING","PAID","OVERPAID","UNDERPAID","COMPLETE"],"description":"`PENDING`: The order is pending payment</br>`PROCESSING`: The order received a payment but the transaction is still pending (ie. an on-chain transaction with 0 conf or manual bank transfer awaiting manual confirmation)</br>`PAID`: The order was paid but it requires manual fulfillment to be flagged as `COMPLETE`</br>`COMPLETE`: The order was paid and is complete</br>`OVERPAID`: The order received a payment that was more than the total amount</br>`UNDERPAID`: The order received a payment that was less than the total amount"},"paidAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\"). `null` until the order is paid."},"expiresAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format when this order expires. After this time, the order cannot be paid."},"redirectUrl":{"type":"string","nullable":true},"label":{"type":"string","nullable":true},"checkoutUrl":{"type":"string","format":"uri","description":"Send your customer to this URL to complete the payment"},"receiptPdfUrl":{"type":"string","format":"uri","nullable":true,"description":"URL to download the Order receipt PDF. `null` until the order is paid."},"customCheckoutId":{"type":"string","nullable":true},"contact":{"type":"object","properties":{"id":{"type":"string"},"legalName":{"type":"string"},"contactName":{"type":"string","nullable":true},"displayName":{"type":"string","nullable":true},"email":{"type":"string","format":"email","nullable":true},"taxId":{"type":"string","nullable":true},"billingAddress":{"type":"object","properties":{"line1":{"type":"string","nullable":true},"line2":{"type":"string","nullable":true},"zipCode":{"type":"string","nullable":true},"city":{"type":"string","nullable":true},"state":{"type":"string","nullable":true},"countryCode":{"type":"string","nullable":true}},"required":["line1","line2","zipCode","city","state","countryCode"],"additionalProperties":false,"nullable":true},"paymentProfiles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string"},"method":{"type":"string"},"label":{"type":"string"},"expiresAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\")"},"connection":{"type":"object","properties":{"label":{"type":"string"},"pluginSlug":{"type":"string"},"id":{"type":"string"}},"required":["label","pluginSlug","id"],"additionalProperties":false},"sourceOrder":{"type":"object","properties":{"id":{"type":"string"},"externalUniqId":{"type":"string","nullable":true}},"required":["id","externalUniqId"],"additionalProperties":false,"nullable":true,"description":"The Order that your customer was paying when saving this payment profile."}},"required":["id","externalId","method","label","expiresAt","connection","sourceOrder"],"additionalProperties":false},"description":"Saved payment profiles for this contact. Can be used to pay Orders with the `charge` endpoint."}},"required":["id","legalName","contactName","displayName","email","taxId","billingAddress","paymentProfiles"],"additionalProperties":false,"description":"Optional Zaprite contact associated with this order","nullable":true},"invoice":{"type":"object","properties":{"id":{"type":"string"},"number":{"type":"string","description":"Invoice number, displayed on the invoice page and PDF"},"title":{"type":"string","nullable":true},"orgId":{"type":"string"},"status":{"type":"string","enum":["DRAFT","SENT","PAID","OVERPAID","UNDERPAID"]},"footerNote":{"type":"string","nullable":true},"daysToPay":{"type":"integer","nullable":true,"description":"Natural days from invoice date before the invoice is overdue. If null, invoice will be shown as \"DUE ON RECEIPT\""},"date":{"type":"string","description":"Date of the invoice, displayed on the invoice page and PDF. Format: YYYY-MM-DD"},"purchaseOrderNumber":{"type":"string","nullable":true},"hideOrgAddress":{"type":"boolean","description":"Organization address is hidden on the public invoice"},"hideOrgEmail":{"type":"boolean","description":"Organization email is hidden on the public invoice"},"hideOrgName":{"type":"boolean","description":"Organization name is hidden on the public invoice"},"sentAt":{"type":"string","nullable":true,"description":"Date when the invoice was sent to the customer"},"publicUrl":{"type":"string","format":"uri","description":"URL to view the public invoice page"},"customer":{"type":"object","properties":{"id":{"type":"string"},"legalName":{"type":"string"},"contactName":{"type":"string","nullable":true},"displayName":{"type":"string","nullable":true},"email":{"type":"string","format":"email","nullable":true},"taxId":{"type":"string","nullable":true},"billingAddress":{"type":"object","properties":{"line1":{"type":"string","nullable":true},"line2":{"type":"string","nullable":true},"zipCode":{"type":"string","nullable":true},"city":{"type":"string","nullable":true},"state":{"type":"string","nullable":true},"countryCode":{"type":"string","nullable":true}},"required":["line1","line2","zipCode","city","state","countryCode"],"additionalProperties":false,"nullable":true},"paymentProfiles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string"},"method":{"type":"string"},"label":{"type":"string"},"expiresAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\")"},"connection":{"type":"object","properties":{"label":{"type":"string"},"pluginSlug":{"type":"string"},"id":{"type":"string"}},"required":["label","pluginSlug","id"],"additionalProperties":false},"sourceOrder":{"type":"object","properties":{"id":{"type":"string"},"externalUniqId":{"type":"string","nullable":true}},"required":["id","externalUniqId"],"additionalProperties":false,"nullable":true,"description":"The Order that your customer was paying when saving this payment profile."}},"required":["id","externalId","method","label","expiresAt","connection","sourceOrder"],"additionalProperties":false},"description":"Saved payment profiles for this contact. Can be used to pay Orders with the `charge` endpoint."}},"required":["id","legalName","contactName","displayName","email","taxId","billingAddress","paymentProfiles"],"additionalProperties":false,"description":"**DEPRECATED:** Use `order.contact` instead","nullable":true},"lineItems":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string","nullable":true},"unitPrice":{"type":"integer","description":"Price of the item in currency smallest unit (e.g. cents or sats)"},"quantity":{"type":"number","description":"Quantity of units (Max 2 decimal places)"},"taxRateBips":{"type":"integer","description":"Tax rate in bips (e.g. 1234 for 12.34%)"},"taxAmount":{"type":"integer","description":"In currency smallest unit (e.g. cents or sats)"},"discountRateBips":{"type":"integer","description":"Discount rate in bips (e.g. 1234 for 12.34%)"},"discountAmount":{"type":"integer"}},"required":["id","name","description","unitPrice","quantity","taxRateBips","taxAmount","discountRateBips","discountAmount"],"additionalProperties":false}}},"required":["id","number","title","orgId","status","footerNote","daysToPay","date","purchaseOrderNumber","hideOrgAddress","hideOrgEmail","hideOrgName","sentAt","publicUrl","customer","lineItems"],"additionalProperties":false,"nullable":true,"description":"Set only if the order is for a Zaprite invoice (`orderType=\"invoice\"`), `null` otherwise"},"paymentLink":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"}},"required":["id","title"],"additionalProperties":false,"nullable":true,"description":"Set only if the order was created from a Payment Link (`orderType=\"paymentLink\"`), `null` otherwise"},"transactions":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"date":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\")"},"amount":{"type":"integer","description":"Transaction amount in currency smallest unit (e.g. cents or sats)"},"currency":{"type":"string","enum":["USD","USDT","BTC","LBTC","ALL","DZD","ARS","AMD","AUD","AZN","BHD","BDT","BYN","BMD","BOB","BAM","BRL","BGN","KHR","CAD","CLP","CNY","COP","CRC","HRK","CUP","CZK","DKK","DOP","EGP","EUR","GEL","GHS","GTQ","HNL","HKD","HUF","ISK","INR","IDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KWD","KGS","LBP","MKD","MYR","MUR","MXN","MDL","MNT","MAD","MMK","NAD","NPR","TWD","NZD","NIO","NGN","NOK","OMR","PKR","PAB","PEN","PHP","PLN","GBP","QAR","RON","RUB","SAR","RSD","SGD","ZAR","KRW","SSP","VES","LKR","SEK","CHF","THB","TTD","TND","TRY","UGX","UAH","AED","UYU","UZS","VND"]},"amountInOrderCurrency":{"type":"integer","nullable":true,"description":"Transaction amount denominated in the currency of the Order and in smallest unit (e.g. cents or sats)"},"discountsInOrderCurrency":{"type":"array","items":{"type":"object","properties":{"amountOff":{"type":"integer","description":"Amount of the discount denominated in `orderCurrency` and in smallest unit (e.g cents or sats). Negative value means a premium was applied."},"rateBipsOff":{"type":"integer","description":"Rate of the discount in bips (e.g. 1234 for 12.34%). Negative value means a premium was applied."},"paymentType":{"type":"string","enum":["FIAT","BITCOIN","LIGHTNING"],"description":"Type of payments this discount applies to"}},"required":["amountOff","rateBipsOff","paymentType"],"additionalProperties":false},"description":"List premiums and discounts applied to this transaction. Note: The amount retained as payment for the Order is `amountInOrderCurrency + sum(discountsInChargeCurrency.amount)`"},"orderCurrency":{"type":"string","enum":["USD","USDT","BTC","LBTC","ALL","DZD","ARS","AMD","AUD","AZN","BHD","BDT","BYN","BMD","BOB","BAM","BRL","BGN","KHR","CAD","CLP","CNY","COP","CRC","HRK","CUP","CZK","DKK","DOP","EGP","EUR","GEL","GHS","GTQ","HNL","HKD","HUF","ISK","INR","IDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KWD","KGS","LBP","MKD","MYR","MUR","MXN","MDL","MNT","MAD","MMK","NAD","NPR","TWD","NZD","NIO","NGN","NOK","OMR","PKR","PAB","PEN","PHP","PLN","GBP","QAR","RON","RUB","SAR","RSD","SGD","ZAR","KRW","SSP","VES","LKR","SEK","CHF","THB","TTD","TND","TRY","UGX","UAH","AED","UYU","UZS","VND"],"nullable":true,"description":"Currency of the Order this transaction is paying for. For example, when paying an USD invoice in BTC, transaction `currency` would be USD and `orderCurrency` USD."},"accountingCurrency":{"type":"string","enum":["USD","USDT","BTC","LBTC","ALL","DZD","ARS","AMD","AUD","AZN","BHD","BDT","BYN","BMD","BOB","BAM","BRL","BGN","KHR","CAD","CLP","CNY","COP","CRC","HRK","CUP","CZK","DKK","DOP","EGP","EUR","GEL","GHS","GTQ","HNL","HKD","HUF","ISK","INR","IDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KWD","KGS","LBP","MKD","MYR","MUR","MXN","MDL","MNT","MAD","MMK","NAD","NPR","TWD","NZD","NIO","NGN","NOK","OMR","PKR","PAB","PEN","PHP","PLN","GBP","QAR","RON","RUB","SAR","RSD","SGD","ZAR","KRW","SSP","VES","LKR","SEK","CHF","THB","TTD","TND","TRY","UGX","UAH","AED","UYU","UZS","VND"],"nullable":true,"description":"The is the currency configured for your Organization"},"amountInAccountingCurrency":{"type":"integer","nullable":true,"description":"Transaction amount denominated in accounting currency and in smallest unit (e.g. cents or sats)"},"method":{"type":"string","enum":["BITCOIN","LIQUID","LIGHTNING","BANK","CARD","CASH","CHECK","GIFTCARD","COUPON","APPLEPAY","GOOGLEPAY","CASHAPP_PAY","INTERAC","ACH","SEPA","UNKNOWN","WIRE_TRANSFER","VENMO","PAYPAL","NO_CHARGE","TETHER"]},"externalRef":{"type":"string","nullable":true,"description":"External reference for the transaction. (e.g. Bitcoin txId, Stripe transaction ID...)"},"status":{"type":"string","enum":["PENDING","CONFIRMED","CANCELED"]}},"required":["date","amount","currency","amountInOrderCurrency","discountsInOrderCurrency","orderCurrency","accountingCurrency","amountInAccountingCurrency","method","externalRef","status"],"additionalProperties":false},"description":"All transactions this Order received"},"customerData":{"type":"object","properties":{"email":{"type":"string","nullable":true},"name":{"type":"string","nullable":true},"phone":{"type":"string","nullable":true},"address":{"type":"object","properties":{"line1":{"type":"string","nullable":true},"line2":{"type":"string","nullable":true},"zipCode":{"type":"string","nullable":true},"city":{"type":"string","nullable":true},"state":{"type":"string","nullable":true},"countryCode":{"type":"string","nullable":true}},"required":["line1","line2","zipCode","city","state","countryCode"],"additionalProperties":false,"nullable":true},"note":{"type":"string","nullable":true}},"required":["email","name","phone","address","note"],"additionalProperties":false,"nullable":true,"description":"Customer data collected on payment links if you enabled customer fields."},"metadata":{"type":"object","additionalProperties":{"type":"string"},"description":"Custom metadata for this order","default":{}},"tags":{"type":"array","items":{"type":"string"},"description":"Custom tags for this order"},"allowSavePaymentProfile":{"type":"boolean","description":"If true and the selected payment method supports autopay, then the customer will be able to save their payment profile for future payments.","default":false}},"required":["id","orgId","orderType","totalAmount","currency","externalUniqId","status","paidAt","expiresAt","redirectUrl","label","checkoutUrl","receiptPdfUrl","customCheckoutId","contact","invoice","paymentLink","transactions","customerData","tags"],"additionalProperties":false},"example":{"id":"od_abc123","orgId":"abc123","orderType":"other","totalAmount":100,"currency":"USD","externalUniqId":"abc123","status":"PROCESSING","paidAt":"2024-02-25T11:04:09.656Z","expiresAt":"2024-03-25T11:04:09.656Z","redirectUrl":"https://your-url.com","label":"Order label","checkoutUrl":"https://pay.zaprite.com/order/od_abc123","receiptPdfUrl":null,"customCheckoutId":null,"invoice":null,"contact":null,"transactions":[{"amount":1400,"currency":"BTC","amountInOrderCurrency":100,"discountsInOrderCurrency":[],"orderCurrency":"USD","amountInAccountingCurrency":100,"accountingCurrency":"USD","method":"BITCOIN","status":"PENDING","date":"2024-02-25T11:04:09.656Z","externalRef":"b340b455d25ae2379e3a22328c96421a8f5a4483848e01f14eee0abae89daabc"}],"paymentLink":null,"customerData":{"email":"example@email.com","name":"John Doe","phone":"1234567890","address":null,"note":"Example customer note"},"metadata":{"custom_id":"12345","customer_reference":"ABC123"},"tags":["tag1","tag2"],"allowSavePaymentProfile":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/v1/order/charge":{"post":{"operationId":"order-charge","summary":"Pay Order","description":"Pay an Order with a payment profile previously saved by your customer.","tags":["Orders"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"orderId":{"type":"string","description":"Zaprite `id` or `externalUniqId`"},"paymentProfileId":{"type":"string","description":"You can find this id in `Contact.paymentProfiles`. Your Order checkout must enabled the connection for this payment profile."},"sendReceiptToCustomer":{"type":"boolean","description":"Required field that must be explicitly set to true or false. If true, will send a receipt email to the customer after successful payment."}},"required":["orderId","paymentProfileId","sendReceiptToCustomer"],"additionalProperties":false}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"orgId":{"type":"string","description":"Id of the Zaprite organization that created this order"},"orderType":{"type":"string","enum":["invoice","paymentLink","pos","event","wooCommerce","other"]},"totalAmount":{"type":"integer","description":"Total amount to be paid by the customer in currency smallest unit (e.g. cents or sats)"},"currency":{"type":"string","enum":["USD","USDT","BTC","LBTC","ALL","DZD","ARS","AMD","AUD","AZN","BHD","BDT","BYN","BMD","BOB","BAM","BRL","BGN","KHR","CAD","CLP","CNY","COP","CRC","HRK","CUP","CZK","DKK","DOP","EGP","EUR","GEL","GHS","GTQ","HNL","HKD","HUF","ISK","INR","IDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KWD","KGS","LBP","MKD","MYR","MUR","MXN","MDL","MNT","MAD","MMK","NAD","NPR","TWD","NZD","NIO","NGN","NOK","OMR","PKR","PAB","PEN","PHP","PLN","GBP","QAR","RON","RUB","SAR","RSD","SGD","ZAR","KRW","SSP","VES","LKR","SEK","CHF","THB","TTD","TND","TRY","UGX","UAH","AED","UYU","UZS","VND"]},"externalUniqId":{"type":"string","nullable":true},"status":{"type":"string","enum":["PENDING","PROCESSING","PAID","OVERPAID","UNDERPAID","COMPLETE"],"description":"`PENDING`: The order is pending payment</br>`PROCESSING`: The order received a payment but the transaction is still pending (ie. an on-chain transaction with 0 conf or manual bank transfer awaiting manual confirmation)</br>`PAID`: The order was paid but it requires manual fulfillment to be flagged as `COMPLETE`</br>`COMPLETE`: The order was paid and is complete</br>`OVERPAID`: The order received a payment that was more than the total amount</br>`UNDERPAID`: The order received a payment that was less than the total amount"},"paidAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\"). `null` until the order is paid."},"expiresAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format when this order expires. After this time, the order cannot be paid."},"redirectUrl":{"type":"string","nullable":true},"label":{"type":"string","nullable":true},"checkoutUrl":{"type":"string","format":"uri","description":"Send your customer to this URL to complete the payment"},"receiptPdfUrl":{"type":"string","format":"uri","nullable":true,"description":"URL to download the Order receipt PDF. `null` until the order is paid."},"customCheckoutId":{"type":"string","nullable":true},"contact":{"type":"object","properties":{"id":{"type":"string"},"legalName":{"type":"string"},"contactName":{"type":"string","nullable":true},"displayName":{"type":"string","nullable":true},"email":{"type":"string","format":"email","nullable":true},"taxId":{"type":"string","nullable":true},"billingAddress":{"type":"object","properties":{"line1":{"type":"string","nullable":true},"line2":{"type":"string","nullable":true},"zipCode":{"type":"string","nullable":true},"city":{"type":"string","nullable":true},"state":{"type":"string","nullable":true},"countryCode":{"type":"string","nullable":true}},"required":["line1","line2","zipCode","city","state","countryCode"],"additionalProperties":false,"nullable":true},"paymentProfiles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string"},"method":{"type":"string"},"label":{"type":"string"},"expiresAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\")"},"connection":{"type":"object","properties":{"label":{"type":"string"},"pluginSlug":{"type":"string"},"id":{"type":"string"}},"required":["label","pluginSlug","id"],"additionalProperties":false},"sourceOrder":{"type":"object","properties":{"id":{"type":"string"},"externalUniqId":{"type":"string","nullable":true}},"required":["id","externalUniqId"],"additionalProperties":false,"nullable":true,"description":"The Order that your customer was paying when saving this payment profile."}},"required":["id","externalId","method","label","expiresAt","connection","sourceOrder"],"additionalProperties":false},"description":"Saved payment profiles for this contact. Can be used to pay Orders with the `charge` endpoint."}},"required":["id","legalName","contactName","displayName","email","taxId","billingAddress","paymentProfiles"],"additionalProperties":false,"description":"Optional Zaprite contact associated with this order","nullable":true},"invoice":{"type":"object","properties":{"id":{"type":"string"},"number":{"type":"string","description":"Invoice number, displayed on the invoice page and PDF"},"title":{"type":"string","nullable":true},"orgId":{"type":"string"},"status":{"type":"string","enum":["DRAFT","SENT","PAID","OVERPAID","UNDERPAID"]},"footerNote":{"type":"string","nullable":true},"daysToPay":{"type":"integer","nullable":true,"description":"Natural days from invoice date before the invoice is overdue. If null, invoice will be shown as \"DUE ON RECEIPT\""},"date":{"type":"string","description":"Date of the invoice, displayed on the invoice page and PDF. Format: YYYY-MM-DD"},"purchaseOrderNumber":{"type":"string","nullable":true},"hideOrgAddress":{"type":"boolean","description":"Organization address is hidden on the public invoice"},"hideOrgEmail":{"type":"boolean","description":"Organization email is hidden on the public invoice"},"hideOrgName":{"type":"boolean","description":"Organization name is hidden on the public invoice"},"sentAt":{"type":"string","nullable":true,"description":"Date when the invoice was sent to the customer"},"publicUrl":{"type":"string","format":"uri","description":"URL to view the public invoice page"},"customer":{"type":"object","properties":{"id":{"type":"string"},"legalName":{"type":"string"},"contactName":{"type":"string","nullable":true},"displayName":{"type":"string","nullable":true},"email":{"type":"string","format":"email","nullable":true},"taxId":{"type":"string","nullable":true},"billingAddress":{"type":"object","properties":{"line1":{"type":"string","nullable":true},"line2":{"type":"string","nullable":true},"zipCode":{"type":"string","nullable":true},"city":{"type":"string","nullable":true},"state":{"type":"string","nullable":true},"countryCode":{"type":"string","nullable":true}},"required":["line1","line2","zipCode","city","state","countryCode"],"additionalProperties":false,"nullable":true},"paymentProfiles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string"},"method":{"type":"string"},"label":{"type":"string"},"expiresAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\")"},"connection":{"type":"object","properties":{"label":{"type":"string"},"pluginSlug":{"type":"string"},"id":{"type":"string"}},"required":["label","pluginSlug","id"],"additionalProperties":false},"sourceOrder":{"type":"object","properties":{"id":{"type":"string"},"externalUniqId":{"type":"string","nullable":true}},"required":["id","externalUniqId"],"additionalProperties":false,"nullable":true,"description":"The Order that your customer was paying when saving this payment profile."}},"required":["id","externalId","method","label","expiresAt","connection","sourceOrder"],"additionalProperties":false},"description":"Saved payment profiles for this contact. Can be used to pay Orders with the `charge` endpoint."}},"required":["id","legalName","contactName","displayName","email","taxId","billingAddress","paymentProfiles"],"additionalProperties":false,"description":"**DEPRECATED:** Use `order.contact` instead","nullable":true},"lineItems":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string","nullable":true},"unitPrice":{"type":"integer","description":"Price of the item in currency smallest unit (e.g. cents or sats)"},"quantity":{"type":"number","description":"Quantity of units (Max 2 decimal places)"},"taxRateBips":{"type":"integer","description":"Tax rate in bips (e.g. 1234 for 12.34%)"},"taxAmount":{"type":"integer","description":"In currency smallest unit (e.g. cents or sats)"},"discountRateBips":{"type":"integer","description":"Discount rate in bips (e.g. 1234 for 12.34%)"},"discountAmount":{"type":"integer"}},"required":["id","name","description","unitPrice","quantity","taxRateBips","taxAmount","discountRateBips","discountAmount"],"additionalProperties":false}}},"required":["id","number","title","orgId","status","footerNote","daysToPay","date","purchaseOrderNumber","hideOrgAddress","hideOrgEmail","hideOrgName","sentAt","publicUrl","customer","lineItems"],"additionalProperties":false,"nullable":true,"description":"Set only if the order is for a Zaprite invoice (`orderType=\"invoice\"`), `null` otherwise"},"paymentLink":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"}},"required":["id","title"],"additionalProperties":false,"nullable":true,"description":"Set only if the order was created from a Payment Link (`orderType=\"paymentLink\"`), `null` otherwise"},"transactions":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"date":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\")"},"amount":{"type":"integer","description":"Transaction amount in currency smallest unit (e.g. cents or sats)"},"currency":{"type":"string","enum":["USD","USDT","BTC","LBTC","ALL","DZD","ARS","AMD","AUD","AZN","BHD","BDT","BYN","BMD","BOB","BAM","BRL","BGN","KHR","CAD","CLP","CNY","COP","CRC","HRK","CUP","CZK","DKK","DOP","EGP","EUR","GEL","GHS","GTQ","HNL","HKD","HUF","ISK","INR","IDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KWD","KGS","LBP","MKD","MYR","MUR","MXN","MDL","MNT","MAD","MMK","NAD","NPR","TWD","NZD","NIO","NGN","NOK","OMR","PKR","PAB","PEN","PHP","PLN","GBP","QAR","RON","RUB","SAR","RSD","SGD","ZAR","KRW","SSP","VES","LKR","SEK","CHF","THB","TTD","TND","TRY","UGX","UAH","AED","UYU","UZS","VND"]},"amountInOrderCurrency":{"type":"integer","nullable":true,"description":"Transaction amount denominated in the currency of the Order and in smallest unit (e.g. cents or sats)"},"discountsInOrderCurrency":{"type":"array","items":{"type":"object","properties":{"amountOff":{"type":"integer","description":"Amount of the discount denominated in `orderCurrency` and in smallest unit (e.g cents or sats). Negative value means a premium was applied."},"rateBipsOff":{"type":"integer","description":"Rate of the discount in bips (e.g. 1234 for 12.34%). Negative value means a premium was applied."},"paymentType":{"type":"string","enum":["FIAT","BITCOIN","LIGHTNING"],"description":"Type of payments this discount applies to"}},"required":["amountOff","rateBipsOff","paymentType"],"additionalProperties":false},"description":"List premiums and discounts applied to this transaction. Note: The amount retained as payment for the Order is `amountInOrderCurrency + sum(discountsInChargeCurrency.amount)`"},"orderCurrency":{"type":"string","enum":["USD","USDT","BTC","LBTC","ALL","DZD","ARS","AMD","AUD","AZN","BHD","BDT","BYN","BMD","BOB","BAM","BRL","BGN","KHR","CAD","CLP","CNY","COP","CRC","HRK","CUP","CZK","DKK","DOP","EGP","EUR","GEL","GHS","GTQ","HNL","HKD","HUF","ISK","INR","IDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KWD","KGS","LBP","MKD","MYR","MUR","MXN","MDL","MNT","MAD","MMK","NAD","NPR","TWD","NZD","NIO","NGN","NOK","OMR","PKR","PAB","PEN","PHP","PLN","GBP","QAR","RON","RUB","SAR","RSD","SGD","ZAR","KRW","SSP","VES","LKR","SEK","CHF","THB","TTD","TND","TRY","UGX","UAH","AED","UYU","UZS","VND"],"nullable":true,"description":"Currency of the Order this transaction is paying for. For example, when paying an USD invoice in BTC, transaction `currency` would be USD and `orderCurrency` USD."},"accountingCurrency":{"type":"string","enum":["USD","USDT","BTC","LBTC","ALL","DZD","ARS","AMD","AUD","AZN","BHD","BDT","BYN","BMD","BOB","BAM","BRL","BGN","KHR","CAD","CLP","CNY","COP","CRC","HRK","CUP","CZK","DKK","DOP","EGP","EUR","GEL","GHS","GTQ","HNL","HKD","HUF","ISK","INR","IDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KWD","KGS","LBP","MKD","MYR","MUR","MXN","MDL","MNT","MAD","MMK","NAD","NPR","TWD","NZD","NIO","NGN","NOK","OMR","PKR","PAB","PEN","PHP","PLN","GBP","QAR","RON","RUB","SAR","RSD","SGD","ZAR","KRW","SSP","VES","LKR","SEK","CHF","THB","TTD","TND","TRY","UGX","UAH","AED","UYU","UZS","VND"],"nullable":true,"description":"The is the currency configured for your Organization"},"amountInAccountingCurrency":{"type":"integer","nullable":true,"description":"Transaction amount denominated in accounting currency and in smallest unit (e.g. cents or sats)"},"method":{"type":"string","enum":["BITCOIN","LIQUID","LIGHTNING","BANK","CARD","CASH","CHECK","GIFTCARD","COUPON","APPLEPAY","GOOGLEPAY","CASHAPP_PAY","INTERAC","ACH","SEPA","UNKNOWN","WIRE_TRANSFER","VENMO","PAYPAL","NO_CHARGE","TETHER"]},"externalRef":{"type":"string","nullable":true,"description":"External reference for the transaction. (e.g. Bitcoin txId, Stripe transaction ID...)"},"status":{"type":"string","enum":["PENDING","CONFIRMED","CANCELED"]}},"required":["date","amount","currency","amountInOrderCurrency","discountsInOrderCurrency","orderCurrency","accountingCurrency","amountInAccountingCurrency","method","externalRef","status"],"additionalProperties":false},"description":"All transactions this Order received"},"customerData":{"type":"object","properties":{"email":{"type":"string","nullable":true},"name":{"type":"string","nullable":true},"phone":{"type":"string","nullable":true},"address":{"type":"object","properties":{"line1":{"type":"string","nullable":true},"line2":{"type":"string","nullable":true},"zipCode":{"type":"string","nullable":true},"city":{"type":"string","nullable":true},"state":{"type":"string","nullable":true},"countryCode":{"type":"string","nullable":true}},"required":["line1","line2","zipCode","city","state","countryCode"],"additionalProperties":false,"nullable":true},"note":{"type":"string","nullable":true}},"required":["email","name","phone","address","note"],"additionalProperties":false,"nullable":true,"description":"Customer data collected on payment links if you enabled customer fields."},"metadata":{"type":"object","additionalProperties":{"type":"string"},"description":"Custom metadata for this order","default":{}},"tags":{"type":"array","items":{"type":"string"},"description":"Custom tags for this order"},"allowSavePaymentProfile":{"type":"boolean","description":"If true and the selected payment method supports autopay, then the customer will be able to save their payment profile for future payments.","default":false}},"required":["id","orgId","orderType","totalAmount","currency","externalUniqId","status","paidAt","expiresAt","redirectUrl","label","checkoutUrl","receiptPdfUrl","customCheckoutId","contact","invoice","paymentLink","transactions","customerData","tags"],"additionalProperties":false},"example":{"id":"od_abc123","orgId":"abc123","orderType":"other","totalAmount":100,"currency":"USD","externalUniqId":"abc123","status":"PROCESSING","paidAt":"2024-02-25T11:04:09.656Z","expiresAt":"2024-03-25T11:04:09.656Z","redirectUrl":"https://your-url.com","label":"Order label","checkoutUrl":"https://pay.zaprite.com/order/od_abc123","receiptPdfUrl":null,"customCheckoutId":null,"invoice":null,"contact":null,"transactions":[{"amount":1400,"currency":"BTC","amountInOrderCurrency":100,"discountsInOrderCurrency":[],"orderCurrency":"USD","amountInAccountingCurrency":100,"accountingCurrency":"USD","method":"BITCOIN","status":"PENDING","date":"2024-02-25T11:04:09.656Z","externalRef":"b340b455d25ae2379e3a22328c96421a8f5a4483848e01f14eee0abae89daabc"}],"paymentLink":null,"customerData":{"email":"example@email.com","name":"John Doe","phone":"1234567890","address":null,"note":"Example customer note"},"metadata":{"custom_id":"12345","customer_reference":"ABC123"},"tags":["tag1","tag2"],"allowSavePaymentProfile":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/v1/order/{id}":{"get":{"operationId":"order-getById","summary":"Get Order","description":"Get an order by either it's Zaprite ID or your own ID (`externalUniqId`)","tags":["Orders"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"},"description":"Zaprite `id` or `externalUniqId`"}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"orgId":{"type":"string","description":"Id of the Zaprite organization that created this order"},"orderType":{"type":"string","enum":["invoice","paymentLink","pos","event","wooCommerce","other"]},"totalAmount":{"type":"integer","description":"Total amount to be paid by the customer in currency smallest unit (e.g. cents or sats)"},"currency":{"type":"string","enum":["USD","USDT","BTC","LBTC","ALL","DZD","ARS","AMD","AUD","AZN","BHD","BDT","BYN","BMD","BOB","BAM","BRL","BGN","KHR","CAD","CLP","CNY","COP","CRC","HRK","CUP","CZK","DKK","DOP","EGP","EUR","GEL","GHS","GTQ","HNL","HKD","HUF","ISK","INR","IDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KWD","KGS","LBP","MKD","MYR","MUR","MXN","MDL","MNT","MAD","MMK","NAD","NPR","TWD","NZD","NIO","NGN","NOK","OMR","PKR","PAB","PEN","PHP","PLN","GBP","QAR","RON","RUB","SAR","RSD","SGD","ZAR","KRW","SSP","VES","LKR","SEK","CHF","THB","TTD","TND","TRY","UGX","UAH","AED","UYU","UZS","VND"]},"externalUniqId":{"type":"string","nullable":true},"status":{"type":"string","enum":["PENDING","PROCESSING","PAID","OVERPAID","UNDERPAID","COMPLETE"],"description":"`PENDING`: The order is pending payment</br>`PROCESSING`: The order received a payment but the transaction is still pending (ie. an on-chain transaction with 0 conf or manual bank transfer awaiting manual confirmation)</br>`PAID`: The order was paid but it requires manual fulfillment to be flagged as `COMPLETE`</br>`COMPLETE`: The order was paid and is complete</br>`OVERPAID`: The order received a payment that was more than the total amount</br>`UNDERPAID`: The order received a payment that was less than the total amount"},"paidAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\"). `null` until the order is paid."},"expiresAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format when this order expires. After this time, the order cannot be paid."},"redirectUrl":{"type":"string","nullable":true},"label":{"type":"string","nullable":true},"checkoutUrl":{"type":"string","format":"uri","description":"Send your customer to this URL to complete the payment"},"receiptPdfUrl":{"type":"string","format":"uri","nullable":true,"description":"URL to download the Order receipt PDF. `null` until the order is paid."},"customCheckoutId":{"type":"string","nullable":true},"contact":{"type":"object","properties":{"id":{"type":"string"},"legalName":{"type":"string"},"contactName":{"type":"string","nullable":true},"displayName":{"type":"string","nullable":true},"email":{"type":"string","format":"email","nullable":true},"taxId":{"type":"string","nullable":true},"billingAddress":{"type":"object","properties":{"line1":{"type":"string","nullable":true},"line2":{"type":"string","nullable":true},"zipCode":{"type":"string","nullable":true},"city":{"type":"string","nullable":true},"state":{"type":"string","nullable":true},"countryCode":{"type":"string","nullable":true}},"required":["line1","line2","zipCode","city","state","countryCode"],"additionalProperties":false,"nullable":true},"paymentProfiles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string"},"method":{"type":"string"},"label":{"type":"string"},"expiresAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\")"},"connection":{"type":"object","properties":{"label":{"type":"string"},"pluginSlug":{"type":"string"},"id":{"type":"string"}},"required":["label","pluginSlug","id"],"additionalProperties":false},"sourceOrder":{"type":"object","properties":{"id":{"type":"string"},"externalUniqId":{"type":"string","nullable":true}},"required":["id","externalUniqId"],"additionalProperties":false,"nullable":true,"description":"The Order that your customer was paying when saving this payment profile."}},"required":["id","externalId","method","label","expiresAt","connection","sourceOrder"],"additionalProperties":false},"description":"Saved payment profiles for this contact. Can be used to pay Orders with the `charge` endpoint."}},"required":["id","legalName","contactName","displayName","email","taxId","billingAddress","paymentProfiles"],"additionalProperties":false,"description":"Optional Zaprite contact associated with this order","nullable":true},"invoice":{"type":"object","properties":{"id":{"type":"string"},"number":{"type":"string","description":"Invoice number, displayed on the invoice page and PDF"},"title":{"type":"string","nullable":true},"orgId":{"type":"string"},"status":{"type":"string","enum":["DRAFT","SENT","PAID","OVERPAID","UNDERPAID"]},"footerNote":{"type":"string","nullable":true},"daysToPay":{"type":"integer","nullable":true,"description":"Natural days from invoice date before the invoice is overdue. If null, invoice will be shown as \"DUE ON RECEIPT\""},"date":{"type":"string","description":"Date of the invoice, displayed on the invoice page and PDF. Format: YYYY-MM-DD"},"purchaseOrderNumber":{"type":"string","nullable":true},"hideOrgAddress":{"type":"boolean","description":"Organization address is hidden on the public invoice"},"hideOrgEmail":{"type":"boolean","description":"Organization email is hidden on the public invoice"},"hideOrgName":{"type":"boolean","description":"Organization name is hidden on the public invoice"},"sentAt":{"type":"string","nullable":true,"description":"Date when the invoice was sent to the customer"},"publicUrl":{"type":"string","format":"uri","description":"URL to view the public invoice page"},"customer":{"type":"object","properties":{"id":{"type":"string"},"legalName":{"type":"string"},"contactName":{"type":"string","nullable":true},"displayName":{"type":"string","nullable":true},"email":{"type":"string","format":"email","nullable":true},"taxId":{"type":"string","nullable":true},"billingAddress":{"type":"object","properties":{"line1":{"type":"string","nullable":true},"line2":{"type":"string","nullable":true},"zipCode":{"type":"string","nullable":true},"city":{"type":"string","nullable":true},"state":{"type":"string","nullable":true},"countryCode":{"type":"string","nullable":true}},"required":["line1","line2","zipCode","city","state","countryCode"],"additionalProperties":false,"nullable":true},"paymentProfiles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string"},"method":{"type":"string"},"label":{"type":"string"},"expiresAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\")"},"connection":{"type":"object","properties":{"label":{"type":"string"},"pluginSlug":{"type":"string"},"id":{"type":"string"}},"required":["label","pluginSlug","id"],"additionalProperties":false},"sourceOrder":{"type":"object","properties":{"id":{"type":"string"},"externalUniqId":{"type":"string","nullable":true}},"required":["id","externalUniqId"],"additionalProperties":false,"nullable":true,"description":"The Order that your customer was paying when saving this payment profile."}},"required":["id","externalId","method","label","expiresAt","connection","sourceOrder"],"additionalProperties":false},"description":"Saved payment profiles for this contact. Can be used to pay Orders with the `charge` endpoint."}},"required":["id","legalName","contactName","displayName","email","taxId","billingAddress","paymentProfiles"],"additionalProperties":false,"description":"**DEPRECATED:** Use `order.contact` instead","nullable":true},"lineItems":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string","nullable":true},"unitPrice":{"type":"integer","description":"Price of the item in currency smallest unit (e.g. cents or sats)"},"quantity":{"type":"number","description":"Quantity of units (Max 2 decimal places)"},"taxRateBips":{"type":"integer","description":"Tax rate in bips (e.g. 1234 for 12.34%)"},"taxAmount":{"type":"integer","description":"In currency smallest unit (e.g. cents or sats)"},"discountRateBips":{"type":"integer","description":"Discount rate in bips (e.g. 1234 for 12.34%)"},"discountAmount":{"type":"integer"}},"required":["id","name","description","unitPrice","quantity","taxRateBips","taxAmount","discountRateBips","discountAmount"],"additionalProperties":false}}},"required":["id","number","title","orgId","status","footerNote","daysToPay","date","purchaseOrderNumber","hideOrgAddress","hideOrgEmail","hideOrgName","sentAt","publicUrl","customer","lineItems"],"additionalProperties":false,"nullable":true,"description":"Set only if the order is for a Zaprite invoice (`orderType=\"invoice\"`), `null` otherwise"},"paymentLink":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"}},"required":["id","title"],"additionalProperties":false,"nullable":true,"description":"Set only if the order was created from a Payment Link (`orderType=\"paymentLink\"`), `null` otherwise"},"transactions":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"date":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\")"},"amount":{"type":"integer","description":"Transaction amount in currency smallest unit (e.g. cents or sats)"},"currency":{"type":"string","enum":["USD","USDT","BTC","LBTC","ALL","DZD","ARS","AMD","AUD","AZN","BHD","BDT","BYN","BMD","BOB","BAM","BRL","BGN","KHR","CAD","CLP","CNY","COP","CRC","HRK","CUP","CZK","DKK","DOP","EGP","EUR","GEL","GHS","GTQ","HNL","HKD","HUF","ISK","INR","IDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KWD","KGS","LBP","MKD","MYR","MUR","MXN","MDL","MNT","MAD","MMK","NAD","NPR","TWD","NZD","NIO","NGN","NOK","OMR","PKR","PAB","PEN","PHP","PLN","GBP","QAR","RON","RUB","SAR","RSD","SGD","ZAR","KRW","SSP","VES","LKR","SEK","CHF","THB","TTD","TND","TRY","UGX","UAH","AED","UYU","UZS","VND"]},"amountInOrderCurrency":{"type":"integer","nullable":true,"description":"Transaction amount denominated in the currency of the Order and in smallest unit (e.g. cents or sats)"},"discountsInOrderCurrency":{"type":"array","items":{"type":"object","properties":{"amountOff":{"type":"integer","description":"Amount of the discount denominated in `orderCurrency` and in smallest unit (e.g cents or sats). Negative value means a premium was applied."},"rateBipsOff":{"type":"integer","description":"Rate of the discount in bips (e.g. 1234 for 12.34%). Negative value means a premium was applied."},"paymentType":{"type":"string","enum":["FIAT","BITCOIN","LIGHTNING"],"description":"Type of payments this discount applies to"}},"required":["amountOff","rateBipsOff","paymentType"],"additionalProperties":false},"description":"List premiums and discounts applied to this transaction. Note: The amount retained as payment for the Order is `amountInOrderCurrency + sum(discountsInChargeCurrency.amount)`"},"orderCurrency":{"type":"string","enum":["USD","USDT","BTC","LBTC","ALL","DZD","ARS","AMD","AUD","AZN","BHD","BDT","BYN","BMD","BOB","BAM","BRL","BGN","KHR","CAD","CLP","CNY","COP","CRC","HRK","CUP","CZK","DKK","DOP","EGP","EUR","GEL","GHS","GTQ","HNL","HKD","HUF","ISK","INR","IDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KWD","KGS","LBP","MKD","MYR","MUR","MXN","MDL","MNT","MAD","MMK","NAD","NPR","TWD","NZD","NIO","NGN","NOK","OMR","PKR","PAB","PEN","PHP","PLN","GBP","QAR","RON","RUB","SAR","RSD","SGD","ZAR","KRW","SSP","VES","LKR","SEK","CHF","THB","TTD","TND","TRY","UGX","UAH","AED","UYU","UZS","VND"],"nullable":true,"description":"Currency of the Order this transaction is paying for. For example, when paying an USD invoice in BTC, transaction `currency` would be USD and `orderCurrency` USD."},"accountingCurrency":{"type":"string","enum":["USD","USDT","BTC","LBTC","ALL","DZD","ARS","AMD","AUD","AZN","BHD","BDT","BYN","BMD","BOB","BAM","BRL","BGN","KHR","CAD","CLP","CNY","COP","CRC","HRK","CUP","CZK","DKK","DOP","EGP","EUR","GEL","GHS","GTQ","HNL","HKD","HUF","ISK","INR","IDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KWD","KGS","LBP","MKD","MYR","MUR","MXN","MDL","MNT","MAD","MMK","NAD","NPR","TWD","NZD","NIO","NGN","NOK","OMR","PKR","PAB","PEN","PHP","PLN","GBP","QAR","RON","RUB","SAR","RSD","SGD","ZAR","KRW","SSP","VES","LKR","SEK","CHF","THB","TTD","TND","TRY","UGX","UAH","AED","UYU","UZS","VND"],"nullable":true,"description":"The is the currency configured for your Organization"},"amountInAccountingCurrency":{"type":"integer","nullable":true,"description":"Transaction amount denominated in accounting currency and in smallest unit (e.g. cents or sats)"},"method":{"type":"string","enum":["BITCOIN","LIQUID","LIGHTNING","BANK","CARD","CASH","CHECK","GIFTCARD","COUPON","APPLEPAY","GOOGLEPAY","CASHAPP_PAY","INTERAC","ACH","SEPA","UNKNOWN","WIRE_TRANSFER","VENMO","PAYPAL","NO_CHARGE","TETHER"]},"externalRef":{"type":"string","nullable":true,"description":"External reference for the transaction. (e.g. Bitcoin txId, Stripe transaction ID...)"},"status":{"type":"string","enum":["PENDING","CONFIRMED","CANCELED"]}},"required":["date","amount","currency","amountInOrderCurrency","discountsInOrderCurrency","orderCurrency","accountingCurrency","amountInAccountingCurrency","method","externalRef","status"],"additionalProperties":false},"description":"All transactions this Order received"},"customerData":{"type":"object","properties":{"email":{"type":"string","nullable":true},"name":{"type":"string","nullable":true},"phone":{"type":"string","nullable":true},"address":{"type":"object","properties":{"line1":{"type":"string","nullable":true},"line2":{"type":"string","nullable":true},"zipCode":{"type":"string","nullable":true},"city":{"type":"string","nullable":true},"state":{"type":"string","nullable":true},"countryCode":{"type":"string","nullable":true}},"required":["line1","line2","zipCode","city","state","countryCode"],"additionalProperties":false,"nullable":true},"note":{"type":"string","nullable":true}},"required":["email","name","phone","address","note"],"additionalProperties":false,"nullable":true,"description":"Customer data collected on payment links if you enabled customer fields."},"metadata":{"type":"object","additionalProperties":{"type":"string"},"description":"Custom metadata for this order","default":{}},"tags":{"type":"array","items":{"type":"string"},"description":"Custom tags for this order"},"allowSavePaymentProfile":{"type":"boolean","description":"If true and the selected payment method supports autopay, then the customer will be able to save their payment profile for future payments.","default":false}},"required":["id","orgId","orderType","totalAmount","currency","externalUniqId","status","paidAt","expiresAt","redirectUrl","label","checkoutUrl","receiptPdfUrl","customCheckoutId","contact","invoice","paymentLink","transactions","customerData","tags"],"additionalProperties":false},"example":{"id":"od_abc123","orgId":"abc123","orderType":"other","totalAmount":100,"currency":"USD","externalUniqId":"abc123","status":"PROCESSING","paidAt":"2024-02-25T11:04:09.656Z","expiresAt":"2024-03-25T11:04:09.656Z","redirectUrl":"https://your-url.com","label":"Order label","checkoutUrl":"https://pay.zaprite.com/order/od_abc123","receiptPdfUrl":null,"customCheckoutId":null,"invoice":null,"contact":null,"transactions":[{"amount":1400,"currency":"BTC","amountInOrderCurrency":100,"discountsInOrderCurrency":[],"orderCurrency":"USD","amountInAccountingCurrency":100,"accountingCurrency":"USD","method":"BITCOIN","status":"PENDING","date":"2024-02-25T11:04:09.656Z","externalRef":"b340b455d25ae2379e3a22328c96421a8f5a4483848e01f14eee0abae89daabc"}],"paymentLink":null,"customerData":{"email":"example@email.com","name":"John Doe","phone":"1234567890","address":null,"note":"Example customer note"},"metadata":{"custom_id":"12345","customer_reference":"ABC123"},"tags":["tag1","tag2"],"allowSavePaymentProfile":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/v1/contact":{"post":{"operationId":"contact-create","summary":"Create Contact","description":"Create a Zaprite Contact. You can then link this contact to Zaprite Orders.","tags":["Contacts"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"contactName":{"type":"string","maxLength":255},"displayName":{"type":"string","maxLength":255},"legalName":{"type":"string","minLength":1,"maxLength":255},"email":{"type":"string","maxLength":255,"format":"email"},"internalNote":{"type":"string","maxLength":1000},"taxId":{"type":"string","maxLength":255},"billingAddress":{"type":"object","properties":{"id":{"type":"string"},"line1":{"type":"string","maxLength":255,"nullable":true},"line2":{"type":"string","maxLength":255,"nullable":true},"zipCode":{"type":"string","maxLength":10,"nullable":true},"city":{"type":"string","maxLength":255,"nullable":true},"state":{"type":"string","maxLength":255,"nullable":true},"countryCode":{"type":"string","enum":["af","al","dz","ad","ao","ag","ar","am","au","at","az","bs","bh","bd","bb","by","be","bz","bj","bt","bo","ba","bw","br","bn","bg","bf","bi","cv","kh","cm","ca","cf","td","cl","cn","co","km","cg","cd","cr","ci","hr","cu","cy","cz","dk","dj","dm","do","ec","eg","sv","gq","er","ee","sz","et","fj","fi","fr","ga","gm","ge","de","gh","gr","gd","gt","gn","gw","gy","ht","hn","hu","is","in","id","ir","iq","ie","il","it","jm","jp","jo","kz","ke","ki","kp","kr","kw","kg","la","lv","lb","ls","lr","ly","li","lt","lu","mg","mw","my","mv","ml","mt","mh","mr","mu","mx","fm","md","mc","mn","me","ma","mz","mm","na","nr","np","nl","nz","ni","ne","ng","mk","no","om","pk","pw","pa","pg","py","pe","ph","pl","pt","qa","ro","ru","rw","kn","lc","vc","ws","sm","st","sa","sn","rs","sc","sl","sg","sk","si","sb","so","za","ss","es","lk","sd","sr","se","ch","sy","tj","tz","th","tl","tg","to","tt","tn","tr","tm","tv","ug","ua","ae","gb","us","uy","uz","vu","ve","vn","ye","zm","zw","vg"],"nullable":true}},"additionalProperties":false}},"required":["legalName","email"],"additionalProperties":false},"example":{"contactName":"John","displayName":"John Doe","legalName":"John Doe","email":"john@doe.com"}}}},"parameters":[],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"legalName":{"type":"string"},"contactName":{"type":"string","nullable":true},"displayName":{"type":"string","nullable":true},"email":{"type":"string","format":"email","nullable":true},"taxId":{"type":"string","nullable":true},"billingAddress":{"type":"object","properties":{"line1":{"type":"string","nullable":true},"line2":{"type":"string","nullable":true},"zipCode":{"type":"string","nullable":true},"city":{"type":"string","nullable":true},"state":{"type":"string","nullable":true},"countryCode":{"type":"string","nullable":true}},"required":["line1","line2","zipCode","city","state","countryCode"],"additionalProperties":false,"nullable":true},"paymentProfiles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string"},"method":{"type":"string"},"label":{"type":"string"},"expiresAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\")"},"connection":{"type":"object","properties":{"label":{"type":"string"},"pluginSlug":{"type":"string"},"id":{"type":"string"}},"required":["label","pluginSlug","id"],"additionalProperties":false},"sourceOrder":{"type":"object","properties":{"id":{"type":"string"},"externalUniqId":{"type":"string","nullable":true}},"required":["id","externalUniqId"],"additionalProperties":false,"nullable":true,"description":"The Order that your customer was paying when saving this payment profile."}},"required":["id","externalId","method","label","expiresAt","connection","sourceOrder"],"additionalProperties":false},"description":"Saved payment profiles for this contact. Can be used to pay Orders with the `charge` endpoint."}},"required":["id","legalName","contactName","displayName","email","taxId","billingAddress","paymentProfiles"],"additionalProperties":false},"example":{"id":"123","legalName":"John Doe","contactName":"John","displayName":"John Doe","email":"john@doe.com","taxId":"123456","billingAddress":{"line1":"123 Main St","line2":null,"city":"San Francisco","zipCode":"94103","countryCode":"US","state":"CA"},"paymentProfiles":[{"id":"123","externalId":"123","method":"card","label":"Visa 1234","connection":{"label":"Square","pluginSlug":"square","id":"123"},"expiresAt":null,"sourceOrder":{"id":"123","externalUniqId":"123"}}]}}}},"default":{"$ref":"#/components/responses/error"}}},"get":{"operationId":"contact-search","summary":"Search Contacts","description":"Search Zaprite Contacts. Returns up to 100 contacts per request.","tags":["Contacts"],"security":[{"Authorization":[]}],"parameters":[{"name":"query","in":"query","required":false,"schema":{"type":"string"}},{"name":"email","in":"query","required":false,"schema":{"type":"string"}},{"name":"page","in":"query","required":false,"schema":{"type":"number","minimum":1,"default":1},"description":"Page number. 1 for first page"}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"items":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"legalName":{"type":"string"},"contactName":{"type":"string","nullable":true},"displayName":{"type":"string","nullable":true},"email":{"type":"string","format":"email","nullable":true},"taxId":{"type":"string","nullable":true},"billingAddress":{"type":"object","properties":{"line1":{"type":"string","nullable":true},"line2":{"type":"string","nullable":true},"zipCode":{"type":"string","nullable":true},"city":{"type":"string","nullable":true},"state":{"type":"string","nullable":true},"countryCode":{"type":"string","nullable":true}},"required":["line1","line2","zipCode","city","state","countryCode"],"additionalProperties":false,"nullable":true},"paymentProfiles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string"},"method":{"type":"string"},"label":{"type":"string"},"expiresAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\")"},"connection":{"type":"object","properties":{"label":{"type":"string"},"pluginSlug":{"type":"string"},"id":{"type":"string"}},"required":["label","pluginSlug","id"],"additionalProperties":false},"sourceOrder":{"type":"object","properties":{"id":{"type":"string"},"externalUniqId":{"type":"string","nullable":true}},"required":["id","externalUniqId"],"additionalProperties":false,"nullable":true,"description":"The Order that your customer was paying when saving this payment profile."}},"required":["id","externalId","method","label","expiresAt","connection","sourceOrder"],"additionalProperties":false},"description":"Saved payment profiles for this contact. Can be used to pay Orders with the `charge` endpoint."}},"required":["id","legalName","contactName","displayName","email","taxId","billingAddress","paymentProfiles"],"additionalProperties":false}},"meta":{"type":"object","properties":{"itemsCount":{"type":"number"},"pagesCount":{"type":"number"},"page":{"type":"number"},"perPage":{"type":"number"}},"required":["itemsCount","pagesCount","page","perPage"],"additionalProperties":false}},"required":["items","meta"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}},"/v1/contact/{id}":{"put":{"operationId":"contact-update","summary":"Update Contact","description":"Update a Zaprite Contact. Only provided fields are updated.","tags":["Contacts"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"contactName":{"type":"string","maxLength":255,"nullable":true},"displayName":{"type":"string","maxLength":255,"nullable":true},"legalName":{"type":"string","minLength":1,"maxLength":255},"email":{"type":"string","maxLength":255,"format":"email","nullable":true},"internalNote":{"type":"string","maxLength":1000,"nullable":true},"taxId":{"type":"string","maxLength":255,"nullable":true},"billingAddress":{"type":"object","properties":{"id":{"type":"string"},"line1":{"type":"string","maxLength":255,"nullable":true},"line2":{"type":"string","maxLength":255,"nullable":true},"zipCode":{"type":"string","maxLength":10,"nullable":true},"city":{"type":"string","maxLength":255,"nullable":true},"state":{"type":"string","maxLength":255,"nullable":true},"countryCode":{"type":"string","enum":["af","al","dz","ad","ao","ag","ar","am","au","at","az","bs","bh","bd","bb","by","be","bz","bj","bt","bo","ba","bw","br","bn","bg","bf","bi","cv","kh","cm","ca","cf","td","cl","cn","co","km","cg","cd","cr","ci","hr","cu","cy","cz","dk","dj","dm","do","ec","eg","sv","gq","er","ee","sz","et","fj","fi","fr","ga","gm","ge","de","gh","gr","gd","gt","gn","gw","gy","ht","hn","hu","is","in","id","ir","iq","ie","il","it","jm","jp","jo","kz","ke","ki","kp","kr","kw","kg","la","lv","lb","ls","lr","ly","li","lt","lu","mg","mw","my","mv","ml","mt","mh","mr","mu","mx","fm","md","mc","mn","me","ma","mz","mm","na","nr","np","nl","nz","ni","ne","ng","mk","no","om","pk","pw","pa","pg","py","pe","ph","pl","pt","qa","ro","ru","rw","kn","lc","vc","ws","sm","st","sa","sn","rs","sc","sl","sg","sk","si","sb","so","za","ss","es","lk","sd","sr","se","ch","sy","tj","tz","th","tl","tg","to","tt","tn","tr","tm","tv","ug","ua","ae","gb","us","uy","uz","vu","ve","vn","ye","zm","zw","vg"],"nullable":true}},"additionalProperties":false,"nullable":true}},"additionalProperties":false},"example":{"email":"new-email@doe.com","contactName":null}}}},"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"},"example":"123"}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"legalName":{"type":"string"},"contactName":{"type":"string","nullable":true},"displayName":{"type":"string","nullable":true},"email":{"type":"string","format":"email","nullable":true},"taxId":{"type":"string","nullable":true},"billingAddress":{"type":"object","properties":{"line1":{"type":"string","nullable":true},"line2":{"type":"string","nullable":true},"zipCode":{"type":"string","nullable":true},"city":{"type":"string","nullable":true},"state":{"type":"string","nullable":true},"countryCode":{"type":"string","nullable":true}},"required":["line1","line2","zipCode","city","state","countryCode"],"additionalProperties":false,"nullable":true},"paymentProfiles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string"},"method":{"type":"string"},"label":{"type":"string"},"expiresAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\")"},"connection":{"type":"object","properties":{"label":{"type":"string"},"pluginSlug":{"type":"string"},"id":{"type":"string"}},"required":["label","pluginSlug","id"],"additionalProperties":false},"sourceOrder":{"type":"object","properties":{"id":{"type":"string"},"externalUniqId":{"type":"string","nullable":true}},"required":["id","externalUniqId"],"additionalProperties":false,"nullable":true,"description":"The Order that your customer was paying when saving this payment profile."}},"required":["id","externalId","method","label","expiresAt","connection","sourceOrder"],"additionalProperties":false},"description":"Saved payment profiles for this contact. Can be used to pay Orders with the `charge` endpoint."}},"required":["id","legalName","contactName","displayName","email","taxId","billingAddress","paymentProfiles"],"additionalProperties":false},"example":{"id":"123","legalName":"John Doe","contactName":"John","displayName":"John Doe","email":"john@doe.com","taxId":"123456","billingAddress":{"line1":"123 Main St","line2":null,"city":"San Francisco","zipCode":"94103","countryCode":"US","state":"CA"},"paymentProfiles":[{"id":"123","externalId":"123","method":"card","label":"Visa 1234","connection":{"label":"Square","pluginSlug":"square","id":"123"},"expiresAt":null,"sourceOrder":{"id":"123","externalUniqId":"123"}}]}}}},"default":{"$ref":"#/components/responses/error"}}},"delete":{"operationId":"contact-delete","summary":"Delete Contact","description":"Delete a Zaprite Contact","tags":["Contacts"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{},"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}},"get":{"operationId":"contact-get","summary":"Get Contact","description":"Get a Zaprite Contact","tags":["Contacts"],"security":[{"Authorization":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"legalName":{"type":"string"},"contactName":{"type":"string","nullable":true},"displayName":{"type":"string","nullable":true},"email":{"type":"string","format":"email","nullable":true},"taxId":{"type":"string","nullable":true},"billingAddress":{"type":"object","properties":{"line1":{"type":"string","nullable":true},"line2":{"type":"string","nullable":true},"zipCode":{"type":"string","nullable":true},"city":{"type":"string","nullable":true},"state":{"type":"string","nullable":true},"countryCode":{"type":"string","nullable":true}},"required":["line1","line2","zipCode","city","state","countryCode"],"additionalProperties":false,"nullable":true},"paymentProfiles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string"},"method":{"type":"string"},"label":{"type":"string"},"expiresAt":{"type":"string","nullable":true,"description":"Date in ISO 8601 format (e.g. \"2021-01-01T00:00:00.000Z\")"},"connection":{"type":"object","properties":{"label":{"type":"string"},"pluginSlug":{"type":"string"},"id":{"type":"string"}},"required":["label","pluginSlug","id"],"additionalProperties":false},"sourceOrder":{"type":"object","properties":{"id":{"type":"string"},"externalUniqId":{"type":"string","nullable":true}},"required":["id","externalUniqId"],"additionalProperties":false,"nullable":true,"description":"The Order that your customer was paying when saving this payment profile."}},"required":["id","externalId","method","label","expiresAt","connection","sourceOrder"],"additionalProperties":false},"description":"Saved payment profiles for this contact. Can be used to pay Orders with the `charge` endpoint."}},"required":["id","legalName","contactName","displayName","email","taxId","billingAddress","paymentProfiles"],"additionalProperties":false}}}},"default":{"$ref":"#/components/responses/error"}}}}},"components":{"securitySchemes":{"Authorization":{"type":"http","scheme":"bearer"}},"responses":{"error":{"description":"Error response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"},"issues":{"type":"array","items":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}},"required":["message","code"],"additionalProperties":false}}}}}},"tags":[{"name":"Contacts"},{"name":"Orders"},{"name":"Webhooks","description":"Zaprite can send requests to your own server to notify you about events on your Zaprite organization. To receive those requests, add a webhook on your [Organization settings](https://app.zaprite.com/org/default/settings/api)."}],"webhooks":{"order.change":{"post":{"tags":["Webhooks"],"summary":"order.change","description":"Sent to your own server when an Order status changes. You can use this hook to detect paid orders.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"eventType":{"type":"string","enum":["order.change"]},"orderId":{"type":"string","description":"You can get order details by fetching the Order"},"orgId":{"type":"string","description":"ID of the Zaprite Organization"}},"required":["eventType","orderId","orgId"],"additionalProperties":false}}}},"responses":{"200":{"description":"Return a **200** status to indicate that the data was received successfully. If your server returns an error HTTP code, we will retry sending multiple times then abaddon the message if all attempts failed."}}}},"invoice.sent":{"post":{"tags":["Webhooks"],"summary":"invoice.sent","description":"Sent to your own server when an invoice is sent.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"eventType":{"type":"string","enum":["invoice.sent"]},"orderId":{"type":"string","description":"You can get invoice details by fetching the related Order"},"orgId":{"type":"string","description":"ID of the Zaprite Organization"}},"required":["eventType","orderId","orgId"],"additionalProperties":false}}}},"responses":{"200":{"description":"Return a **200** status to indicate that the data was received successfully. If your server returns an error HTTP code, we will retry sending multiple times then abaddon the message if all attempts failed."}}}},"contact.updated":{"post":{"tags":["Webhooks"],"summary":"contact.updated","description":"Sent to your own server when a Contact is updated.","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"eventType":{"type":"string","enum":["contact.updated"]},"contactId":{"type":"string","description":"You can get Contact details by fetching the Contact"},"orgId":{"type":"string","description":"ID of the Zaprite Organization"}},"required":["eventType","contactId","orgId"],"additionalProperties":false}}}},"responses":{"200":{"description":"Return a **200** status to indicate that the data was received successfully. If your server returns an error HTTP code, we will retry sending multiple times then abaddon the message if all attempts failed."}}}}}}